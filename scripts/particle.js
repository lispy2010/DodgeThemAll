class Particle { constructor(x, y, speed, size, color, life) { this.x = x; this.y = y; this.speed = speed; this.size = size; this.life = life; this.a = 1; this.r = color.r; this.g = color.g; this.b = color.b; } draw() { ctx.fillStyle = `rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`; ctx.fillRect(this.x, this.y, this.size, this.size); } update(pa) { this.x += this.speed.x; this.y += this.speed.y; this.life--; if (this.life <= 0) { if (pa) { pa.splice(pa.indexOf(this), 1); } else { particles.splice(particles.indexOf(this), 1); } } this.a -= .02; } }